## Задание 1: Подготовить инвентарь kubespray
Новые тестовые кластеры требуют типичных простых настроек. Нужно подготовить инвентарь и проверить его работу. Требования к инвентарю:
* подготовка работы кластера из 5 нод: 1 мастер и 4 рабочие ноды;
* в качестве CRI — containerd;
* запуск etcd производить на мастере.

-Склонирован репозиторий kubespray
```
vlad@vlad705:~/nl/12.4new$ git clone https://github.com/kubernetes-sigs/kubespray
Cloning into 'kubespray'...
remote: Enumerating objects: 64366, done.
remote: Counting objects: 100% (171/171), done.
remote: Compressing objects: 100% (136/136), done.
remote: Total 64366 (delta 63), reused 117 (delta 27), pack-reused 64195
Receiving objects: 100% (64366/64366), 20.40 MiB | 8.60 MiB/s, done.
Resolving deltas: 100% (36207/36207), done.

```
- Установлены зависимости
```
vlad@vlad705:~/nl/12.4new$ cd kubespray/
vlad@vlad705:~/nl/12.4new/kubespray$  sudo pip3 install -r requirements.txt
/usr/lib/python3/dist-packages/secretstorage/dhcrypto.py:15: CryptographyDeprecationWarning: int_from_bytes is deprecated, use int.from_bytes instead
  from cryptography.utils import int_from_bytes
...
Requirement already satisfied: pycparser in /usr/local/lib/python3.8/dist-packages (from cffi>=1.12->cryptography==3.4.8->-r requirements.txt (line 3)) (2.21)
```
Создан inventory из примера
```
vlad@vlad705:~/nl/12.4new/kubespray$ cp -rfp inventory/sample inventory/clu
```
-Подготовлены машины в YC  
    ![img12_04_01.png](img12_04_01.png)  
- По умолчанию в качестве CRI используется containerd, поэтому [конфиг](12-kubernetes-04-install-part-2/source/kubespray/inventory/netology-cluster/group_vars/k8s_cluster/k8s-cluster.yml) не менял
- Описал [inventory](12-kubernetes-04-install-part-2/source/kubespray/inventory/netology-cluster/inventory.ini)
- Запустил деплой кластера
```
    ansible-playbook -i inventory/netology-cluster/inventory.ini cluster.yml -b -v
```  
    ![img12_04_02.png](img12_04_02.png)  
    ![img12_04_03.png](img12_04_03.png)  
```
    sudo kubectl create deployment hello-node --image=k8s.gcr.io/echoserver:1.4 --replicas=4
    sudo kubectl get pods -o wide
```  
    ![img12_04_04.png](img12_04_04.png)  
